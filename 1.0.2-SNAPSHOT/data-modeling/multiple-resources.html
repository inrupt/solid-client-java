<!DOCTYPE html>


<!--
 | Generated by Apache Maven Doxia Site Renderer 1.11.1 from src/site/apt/data-modeling/multiple-resources.apt.vm at 2024-05-20
 | Rendered using Apache Maven Fluido Skin 1.11.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.11.1" />
    <title>Inrupt Java Client Libraries &#x2013; </title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.11.1.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />
    <script src="../js/apache-maven-fluido-1.11.1.min.js"></script>
  </head>
  <body class="topBarDisabled">
    <div class="container-fluid">
      <header>
        <div id="banner">
          <div class="pull-left"><div id="bannerLeft"><h1>Inrupt Java Client Libraries</h1>
</div>
</div>
          <div class="pull-right"><a href="../index.html" id="bannerRight"><img src="../images/inrupt_logo-2020.svg"  alt="Inrupt" style="" /></a></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2024-05-20<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 1.0.2-SNAPSHOT</li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Inrupt Client</li>
    <li><a href="../index.html" title="Home"><span class="none"></span>Home</a></li>
    <li><a href="../getting-started.html" title="Getting Started"><span class="none"></span>Getting Started</a></li>
    <li><a href="../usage-examples.html" title="Usage Examples"><span class="none"></span>Usage Examples</a></li>
    <li><a href="../client-options.html" title="Client Options"><span class="none"></span>Client Options</a></li>
    <li><a href="../session-management.html" title="Session Management"><span class="icon-chevron-right"></span>Session Management</a></li>
    <li><a href="../data-modeling.html" title="Data Modeling"><span class="icon-chevron-down"></span>Data Modeling</a>
     <ul class="nav nav-list">
      <li><a href="../data-modeling/one-resource.html" title="One Solid Resource"><span class="none"></span>One Solid Resource</a></li>
      <li class="active"><a><span class="none"></span>Multiple Solid Resources</a></li>
     </ul></li>
    <li><a href="../apidocs/" title="Documentation"><span class="none"></span>Documentation</a></li>
    <li><a href="../licenses.html" title="License"><span class="none"></span>License</a></li>
    <li><a href="../modules.html" title="Modules"><span class="none"></span>Modules</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn"  class="span10" >
<section>
<h2><a name="Data_Modeling_for_multiple_Solid_Resources"></a>Data Modeling for multiple Solid Resources</h2>
<p>This data modeling approach can be used when the data we need is in multiple Solid Resources. Foe example, there is a Book Library Solid Container which holds more Solid Resources. Each Solid Resource, in turn, contains the description of only one Book.</p><section>
<h3><a name="How_to_complete"></a>How to complete</h3>
<p>The solution involves working with domain-specific type such as <code>SolidContainer</code> and <code>SolidResource</code>.</p></section><section>
<h3><a name="Working_with_Solid_Containers"></a>Working with Solid Containers</h3>
<p>Given a Solid Container, we assume that all Solid RDF Resources contained in the container are Books. One Book per Solid Resource.</p>
<p>For modeling a single Book you can use a <code>SolidResource</code> or a wrapper class as (describe on the <a href="./one-resource.html">one Solid Resource</a> page).</p>
<div class="source"><pre class="prettyprint">import com.inrupt.client.auth.Session;
import com.inrupt.client.openid.OpenIdSession;
import com.inrupt.client.solid.SolidContainer;
import java.net.URI;

public class MyApplication {

    public void run() {
        Session session = OpenIdSession.ofClientCredentials(issuer, clientId, clientSecret, &quot;client_secret_basic&quot;);
        SolidSyncClient client = SolidSyncClient.getClient().session(session);

        URI uri = URI.create(&quot;https://storage.example/BookLibrary/&quot;);
        try (final SolidContainer container = client.read(uri, SolidContainer.class)) {
            final var resources = container.getResources();
            resources.forEach(r -&gt; {
                if (!(r.getIdentifier().toString().endsWith(&quot;/&quot;))) { //if it ends in a '/' it is a container
                    final Request req = Request.newBuilder(r.getIdentifier())
                        .HEAD()
                        .build();
                    final var res = client.send(req, Response.BodyHandlers.discarding());
                    final var contentType = res.headers().firstValue(&quot;Content-Type&quot;);
                    if (contentType.isPresent() &amp;&amp; (contentType.get().toLowerCase().contains(&quot;text/turtle&quot;))) {
                        try (Book book = client.read(r.getIdentifier(), Book.class)) {
                            System.out.println(book.getTitle());

                            // Set the book title
                            book.setTitle(title);

                            // Update the book in your storage
                            client.update(book);
                        }
                    }
                }
            });
        }

    }
}</pre></div></section></section>
        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>&#169;      2024
<a href="https://inrupt.com">Inrupt, Inc</a>
</p>
        </div>
      </div>
    </footer>
<script>
	if(anchors) {
	  anchors.add();
	}
</script>
  </body>
</html>
